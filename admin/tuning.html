

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tunable Configuration Options &mdash; Hummingbird v.PR documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/privatecloud.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/bespoke.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/bolditalic.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Hummingbird v.PR documentation" href="../index.html"/>
        <link rel="up" title="Hummingbird Cluster Health" href="index.html"/>
        <link rel="next" title="Hummingbird Deployment" href="../deploy/index.html"/>
        <link rel="prev" title="Debugging a single account, container, or object" href="debug-single.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Hummingbird
          

          
            
            <img src="../_static/privatecloud.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                v.PR
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Hummingbird</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">Hummingbird Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html#supported-hardware">Supported Hardware</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Hummingbird Cluster Health</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="rings.html">Ring Managment 101</a></li>
<li class="toctree-l2"><a class="reference internal" href="rings.html#ring-best-practices">Ring Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html">Hummingbird Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html#metrics-exposed-by-hummingbird-services">Metrics exposed by Hummingbird services</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html#prometheus-grafana-alertmanager-installation">Prometheus, Grafana &amp; Alertmanager Installation.</a></li>
<li class="toctree-l2"><a class="reference internal" href="progress.html">Andrewd Progress Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="drivestatus.html">Drive Status Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="async.html">Async Pending Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="dispersion.html">Dispersion Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="ringmd5.html">MD5 Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="quarantine.html">Quarantine Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="stalledreplicators.html">Andrewd Replication</a></li>
<li class="toctree-l2"><a class="reference internal" href="stalledreplicators.html#stalled-replicators-report">Stalled Replicators Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="replicationstats.html">Replication Partitions Per Second Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="replicationduration.html">Replication Duration Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="timesync.html">Time Sync Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="replication-tools.html">Hummingbird Priority Replication Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="debug-single.html">Debugging a single account, container, or object</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Tunable Configuration Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#debug-logging">Debug Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="#read-affinity">Read Affinity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rate-limits">Rate Limits</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../deploy/index.html">Hummingbird Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">Hummingbird Development</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Hummingbird</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Hummingbird Cluster Health</a> &raquo;</li>
        
      <li>Tunable Configuration Options</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/admin/tuning.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tunable-configuration-options">
<h1>Tunable Configuration Options<a class="headerlink" href="#tunable-configuration-options" title="Permalink to this headline">#</a></h1>
<div class="section" id="debug-logging">
<h2>Debug Logging<a class="headerlink" href="#debug-logging" title="Permalink to this headline">#</a></h2>
<p>To turn on verbose debug logging you can set <code class="docutils literal"><span class="pre">log_level</span> <span class="pre">=</span> <span class="pre">DEBUG</span></code> under
the <code class="docutils literal"><span class="pre">[DEFAULT]</span></code> section of any config file:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">DEFAULT</span><span class="p">]</span>
<span class="n">log_level</span> <span class="o">=</span> <span class="n">DEBUG</span>
</pre></div>
</div>
</div>
<div class="section" id="read-affinity">
<h2>Read Affinity<a class="headerlink" href="#read-affinity" title="Permalink to this headline">#</a></h2>
<p>The proxy server supports Read Affinities which give preference to
certain devices. By default the proxy server will read from the
appropriate devices in random order until it has success. However, you
can set the read affinitity to prefer devices in the same datacenter as
the proxy server, for example. For this example, assume the proxy server
is in region 1. You can set in its proxy-server.conf:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">app</span><span class="p">:</span><span class="n">proxy</span><span class="o">-</span><span class="n">server</span><span class="p">]</span>
<span class="n">read_affinity</span> <span class="o">=</span> <span class="n">r1</span><span class="o">=</span><span class="mi">100</span>
</pre></div>
</div>
<p>And this will prefer reading from devices in region 1, only falling back
to other regions if necessary.</p>
<p>You may get even more specific and specify a zone to prefer as well if,
for example, the proxy server is within that same zone as well as
region:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">read_affinity</span> <span class="o">=</span> <span class="n">r1z1</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">r1</span><span class="o">=</span><span class="mi">200</span>
</pre></div>
</div>
<p>The number after the equal sign, 100 and 200 above, are the priority
values. Lower means higher priority, or first to be used.</p>
</div>
<div class="section" id="rate-limits">
<h2>Rate Limits<a class="headerlink" href="#rate-limits" title="Permalink to this headline">#</a></h2>
<p>You can set rate limits for certain operations to control how many
resources are used at once. The <code class="docutils literal"><span class="pre">account_db_max_writes_per_sec</span></code>
controls how many concurrent container write (PUT POST DELETE)
operations are allowed per account. The
<code class="docutils literal"><span class="pre">container_db_max_writes_per_sec</span></code> controls how many concurrent object
write (PUT POST DELETE COPY) operations are allowed per container.
Normally you can just leave these unset and let the cluster manage
itself. But, if you’d like, you can tune these settings in your
proxy-server.conf like in the following example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="nb">filter</span><span class="p">:</span><span class="n">ratelimit</span><span class="p">]</span>
<span class="n">account_db_max_writes_per_sec</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">container_db_max_writes_per_sec</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../deploy/index.html" class="btn btn-neutral float-right" title="Hummingbird Deployment" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="debug-single.html" class="btn btn-neutral" title="Debugging a single account, container, or object" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Rackspace.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'v.PR',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>